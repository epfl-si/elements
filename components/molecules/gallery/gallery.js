import Flickity from"flickity";import FlickityFullscreen from"flickity-fullscreen";import FlickityNav from"flickity-as-nav-for";import Imagesloaded from"imagesloaded";function setFlickityOnGallery(l){const e=l.find(".gallery-item");l.addClass("ready"),e.each((function(l){$(this).find("figcaption").append(`\n            <span class="gallery-counter">${l+1}/${e.length}</span>\n          `)})),new Flickity(l.get(0),{pageDots:!1,fullscreen:!0,setGallerySize:!0,arrowShape:"M14.2,45.8L53,7.1c1.6-1.6,1.6-4.3,0-5.9s-4.3-1.6-5.9,0L1.2,47c-1.6,1.6-1.6,4.3,0,5.9c0,0,0,0,0,0l45.8,45.8c1.6,1.6,4.3,1.6,5.9,0s1.6-4.3,0-5.9L14.2,54.1h81.6c2.3,0,4.2-1.9,4.2-4.2s-1.9-4.2-4.2-4.2H14.2z"}),$(".flickity-fullscreen-button-view svg path").attr("d","M32,11.9h-2.7V6.5H24V3.8h8V11.9z M24,28.2v-2.7h5.3v-5.4H32v8.2H24z M0,20.1h2.7v5.4H8v2.7H0V20.1z M8,3.8v2.7H2.7v5.4H0V3.8H8z"),$(".flickity-fullscreen-button-exit svg path").attr("d","M18.1,16l13.4,13.4c0.6,0.6,0.6,1.5,0,2.1c-0.6,0.6-1.5,0.6-2.1,0L16,18.1L2.6,31.6c-0.6,0.6-1.5,0.6-2.1,0c-0.6-0.6-0.6-1.5,0-2.1l0,0L13.9,16L0.4,2.6C-0.1,2-0.1,1,0.4,0.4s1.5-0.6,2.1,0L16,13.9L29.4,0.4c0.6-0.6,1.5-0.6,2.1,0c0.6,0.6,0.6,1.5,0,2.1L18.1,16z");const t=l.find(".gallery-item.is-selected img").height();l.find(".flickity-prev-next-button").css("top",t/2+"px")}function setFlickityGalleryNav(l){l.imagesLoaded().always((function(e){const t=l.data("gallery");l.addClass("ready"),new Flickity(l.get(0),{asNavFor:`#${t}`,cellAlign:"left",pageDots:!1,prevNextButtons:!1,contain:!0})})).fail((function(){console.log("one image is broken for a gallery nav")}))}export default()=>{window.flickityInstances=[];const l=$(".gallery");l.length>0&&(console.log("starting to gallerynav"),l.each((function(e){$(this).imagesLoaded().always((function(t){setFlickityOnGallery($(l[e]));const i=$(`.gallery-nav[data-gallery='${l[e].id}']`);i.length>0&&i.each((function(t){setFlickityGalleryNav($(i[t],l[e].id))}))})).fail((function(){console.log("one image is broken for a gallery")}))})))};